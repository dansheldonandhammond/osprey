<div class="t-flex t-flex-col">
  <!-- Tab Navigation -->
  <ul
    class="t-flex t-gap-[20px] t-font-[600] t-list-none t-p-0 t-border-b t-border-gray-200"
    role="tablist"
    style="border-bottom: 1px solid black;"
  >
    <li>
      <a
        href="#description"
        class="tab-btn t-no-underline t-text-black t-pb-2 t-bg-white t-cursor-pointer t-inline-block t-text-[1.8rem]"
        data-tab="description"
        style="border-bottom: 3px solid black;"
      >
        Description
      </a>
    </li>
    <li>
      <a
        href="#attributes"
        class="tab-btn t-no-underline t-text-black t-pb-2 t-bg-white t-cursor-pointer t-inline-block t-text-[1.8rem]"
        data-tab="attributes"
      >
        Key Attributes
      </a>
    </li>
    <li>
      <a
        href="#carry"
        class="tab-btn t-no-underline t-text-black t-pb-2 t-bg-white t-cursor-pointer t-inline-block t-text-[1.8rem]"
        data-tab="carry"
      >
        Carry Information
      </a>
    </li>
    <li>
      <a
        href="#specs"
        class="tab-btn t-no-underline t-text-black t-pb-2 t-bg-white t-cursor-pointer t-inline-block t-text-[1.8rem]"
        data-tab="specs"
      >
        Specs
      </a>
    </li>
    <li>
      <a
        href="#reviews"
        class="tab-btn t-no-underline t-text-black t-pb-2 t-bg-white t-cursor-pointer t-inline-block t-text-[1.8rem]"
        data-tab="reviews"
      >
        Reviews
      </a>
    </li>
  </ul>

  <!-- Tab Panels -->
  <div class="tab-content t-mt-4">
    <div id="description" class="tab-panel">
      {{ product.description }}
    </div>

    {% if product.metafields.custom.key_attributes %}
      <div id="attributes" class="tab-panel t-hidden">
        <section
          aria-label="Tab content "
          class="t-grow t-w-full t-os:py-5 t-md:os:py-14 t-md:hf:py-16 t-md:py-14 t-md:order-10 t-md:border-t t-md:border-b-0 t-os:md:border-b t-border-b t-pb-2 t-border-gray t-block"
        >
          <div>
            <div class="t-grid t-gap-y-8 t-gap-x-20 md:t-grid-cols-2">
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_1 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_1 | metafield_tag }}
                </div>
              </div>
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_2 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_2 | metafield_tag }}
                </div>
              </div>
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_3 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_3 | metafield_tag }}
                </div>
              </div>
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_4 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_4 | metafield_tag }}
                </div>
              </div>
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_5 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_5 | metafield_tag }}
                </div>
              </div>
              <div>
                <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
                  {{ product.metafields.custom.osprey_key_attribute_title_6 | metafield_tag }}
                </h2>
                <div class="t-product-tab-content">
                  {{ product.metafields.custom.osprey_key_attribute_content_6 | metafield_tag }}
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    {% endif %}

    {% if product.metafields.custom.carry_information %}
      <div id="carry" class="tab-panel t-hidden">
        <div class="t-grid t-gap-y-8 t-gap-x-20 md:t-grid-cols-2">
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_1 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_1 | metafield_tag }}
            </div>
          </div>
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_2 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_2 | metafield_tag }}
            </div>
          </div>
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_3 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_3 | metafield_tag }}
            </div>
          </div>
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_4 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_4 | metafield_tag }}
            </div>
          </div>
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_5 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_5 | metafield_tag }}
            </div>
          </div>
          <div>
            <h2 class="t-text-[20px] t-font-bold t-mb-2.5 md:t-text-[28px]">
              {{ product.metafields.custom.osprey_carry_attribute_title_6 | metafield_tag }}
            </h2>
            <div class="t-product-tab-content">
              {{ product.metafields.custom.osprey_carry_attribute_content_6 | metafield_tag }}
            </div>
          </div>
        </div>
      </div>
    {% endif %}

    <div id="specs" class="tab-panel t-flex t-gap-[10px] t-flex-col lg:t-flex-row t-pt-[20px]">
      {% if product.metafields.custom.specs %}
              <div class="spec-block t-w-[433px]">
                  <table class="t-shadow-none" style="border-collapse: collapse; width:100%;">
                  <tr class="t-py-[18px]" style="border-bottom: solid 1px #000; border-top: solid 1px #000;">
                    <td class="t-my-[20px]" style="padding: 12px;">LOAD RANGE</td>
                    <td style="padding: 12px;">
                    {{- product.metafields.custom.osprey_load_range -}}
                    </td>
                  </tr>
                    {%- assign sizes = product.metafields.custom | slice: 0, 2 -%}
                    {%- for size_field in sizes -%}
                    {%- assign size_obj = size_field[1].value -%}
                    {%- assign size_name = size_field[0] | remove: 'size_' | upcase -%}


                    <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                    <td
                    colspan="2"
                    style=" font-weight: bold; padding: 12px;"
                    >
                    {% for option in product.options_with_values %}
                    {% if option.name == 'Size' %}
                    <div class="t-mb-2 t-font-bold t-text-[18px]">
                    {{ option.values[0] | upcase }}
                    </div>
                    {% endif %}
                    {% endfor %}
                    </td>
                    </tr>

                    {{ metaobjects.custom.size_1.value | metafield_tag }}
                    {% assign size1 = product.metafields.custom.size_1.value %}
                    {% assign volume = size1.volume %}
                    {% assign height = size1.height %}
                    {% assign width = size1.width %}
                    {% assign depth = size1.depth %}
                    {% assign weight = size1.weight %}
                    <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                    <td style="padding: 12px;">VOLUME</td>
                    <td style="padding: 12px;">
                    {{- volume.value -}}
                    {{- volume.unit | upcase -}}
                    </td>
                    </tr>
                    <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                    <td style="padding: 12px;">DIMENSIONS</td>
                    <td style="padding: 12px;">
                    {{- height.value -}}
                    H X
                    {{- width.value -}}
                    W X
                    {{- depth.value -}}
                    D
                    </td>
                    </tr>
                    <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                    <td style="padding: 12px;">WEIGHT</td>
                    <td style="padding: 12px;">
                    {{- weight.value -}}
                    {{- weight.unit | upcase -}}
                    </td>
                    </tr>

                    {{ metaobjects.custom.size_1.value | metafield_tag }}
                    {% assign size2 = product.metafields.custom.size_2.value %}
                    {% assign volume = size2.volume %}
                    {% assign height = size2.height %}
                    {% assign width = size2.width %}
                    {% assign depth = size2.depth %}
                    {% assign weight = size2.weight %}

                    {%- assign sizes = product.metafields.custom | slice: 0, 2 -%}
                    {%- assign size_obj = size_field[1].value -%}
                    {%- assign size_name = size_field[0] | remove: 'size_' | upcase -%}

                    <div class="spec-block">
                      <tr class="t-py-[18px]" style="border-bottom: 1px solid #000; border-top: none; border-left: none; border-right: none;">
                        <td colspan="2" style=" font-weight: bold; padding: 12px;" >
                          {%- for size_field in sizes -%}
                            {% for option in product.options_with_values %}
                              {% if option.name == 'Size' %}
                              <div class="t-mb-2 t-font-bold t-text-[18px]">
                                {{ option.values[1] | upcase }}
                              </div>
                              {% endif %}
                            {% endfor %}
                          </td>
                        </tr>
                    
                      <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                        <td style="padding: 12px;">VOLUME</td>
                        <td style="padding: 12px;">
                          {{- volume.value -}}
                          {{- volume.unit | upcase -}}
                        </td>
                      </tr>
                  
                    <tr class="" style="border-bottom: solid 1px #000;">
                      <td style="padding: 12px;">DIMENSIONS</td>
                      <td style="padding: 12px;">
                        {{- height.value -}} H X
                        {{- width.value -}} W X 
                        {{- depth.value -}} D
                      </td>
                    </tr>

                    <tr class="t-py-[18px]" style="border-bottom: solid 1px #000;">
                      <td style="padding: 12px;">WEIGHT</td>
                      <td style="padding: 12px;">
                      {{- weight.value -}}
                      {{- weight.unit | upcase -}}
                      </td>
                    </tr>

                    </table>
                  </div>
              {%- endfor -%}
                <div class="lg:t-px-[70px]">
                  <div class="fabric-section t-w-[318px] lg:t-mt-[0px] t-mt-[20px]">
                    <h3 class="t-text-[28px] t-font-[700] t-pt-0 t-mt-0 ">FABRIC</h3>
                    {% if product.metafields.custom.fabric_main %}
                      <h5 class="t-mt-[16px] t-mb-[8px] t-text-[16px] t-mt-0">MAIN</h5>
                      <p class=" t-mb-[8px] t-mt-0">
                        {{ product.metafields.custom.fabric_main }}
                      </p>
                    {% endif %}
                    {% if product.metafields.custom.osprey_fabric_lining %}
                      <h5 class="t-mt-[16px] t-mb-[8px] t-text-[16px] t-mt-0">LINING</h5>
                      <p class=" t-mb-[8px] t-mt-0">
                        {{ product.metafields.custom.osprey_fabric_lining }}
                      </p>
                    {% endif %}
                    {% if product.metafields.custom.fabric_bottom %}
                      <h5 class="t-mt-[16px] t-mb-[8px] t-text-[16px] t-mt-0">BOTTOM</h5>
                      <p class=" t-mb-[8px] t-mt-0">
                        {{ product.metafields.custom.fabric_bottom }}
                      </p>
                    {% endif %}
                  </div>
                </div>
              </div>
            {%- endfor -%}
          </div>
        </div>
      {% endif %}
    </div>
      <div id="reviews" class="tab-panel t-hidden">
      <p>Jotopo Reviews Will Go Here</p>
    </div>
    {% if product.metafields.custom.owners_manual %}
      <h2
        class="
          text-lmd:g text-[28px] font-bold mb-2.5 t-mt-[30px] t-border-0 t-border t-border-t-[1px]
          t-border-solid t-pt-[45px]
        "
      >
        <a
          class="t-text-white t-bg-black t-px-[20px] t-py-[15px] t-no-underline t-uppercase t-flex t-just-center t-items-center t-gap-2 t-w-fit"
          href="{{ product.metafields.custom.owners_manual | file_url}}"
          target="_blank"
          rel="noopener"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            class=""
            aria-hidden="true"
          >
            <path fill-rule="evenodd" clip-rule="evenodd" d="M4 16C4.55228 16 5 16.4477 5 17V19C5 19.2652 5.10536 19.5196 5.29289 19.7071C5.48043 19.8946 5.73478 20 6 20H18C18.2652 20 18.5196 19.8946 18.7071 19.7071C18.8946 19.5196 19 19.2652 19 19V17C19 16.4477 19.4477 16 20 16C20.5523 16 21 16.4477 21 17V19C21 19.7957 20.6839 20.5587 20.1213 21.1213C19.5587 21.6839 18.7957 22 18 22H6C5.20435 22 4.44129 21.6839 3.87868 21.1213C3.31607 20.5587 3 19.7956 3 19V17C3 16.4477 3.44772 16 4 16Z" fill="currentColor"></path>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.29289 10.2929C6.68342 9.90237 7.31658 9.90237 7.70711 10.2929L12 14.5858L16.2929 10.2929C16.6834 9.90237 17.3166 9.90237 17.7071 10.2929C18.0976 10.6834 18.0976 11.3166 17.7071 11.7071L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L6.29289 11.7071C5.90237 11.3166 5.90237 10.6834 6.29289 10.2929Z" fill="currentColor"></path>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C12.5523 3 13 3.44772 13 4V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V4C11 3.44772 11.4477 3 12 3Z" fill="currentColor"></path>
          </svg>
          <span class="t-text-[16px] t-font-[600]">Download Owner's Manual</span>
        </a>
      </h2>
    {% endif %}
    

  </div>
  
</div>

<!-- Tab Script -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const tabLinks = document.querySelectorAll('.tab-btn');
    const tabPanels = document.querySelectorAll('.tab-panel');

    tabLinks.forEach((link) => {
      link.addEventListener('click', function (e) {
        e.preventDefault();

        const target = this.getAttribute('data-tab');

        // Hide all panels
        tabPanels.forEach((panel) => panel.classList.add('t-hidden'));

        // Show selected panel
        document.getElementById(target).classList.remove('t-hidden');

        // Reset all tabs
        tabLinks.forEach((tab) => {
          tab.style.borderBottom = '2px solid transparent';
        });

        // Set active tab with custom 3px solid black bottom border
        this.style.borderBottom = '3px solid black';
      });
    });
  });
</script>
